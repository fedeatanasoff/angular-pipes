<div class="mt-5">
  <form [formGroup]="formu" (ngSubmit)="guardarCambios()">
    <div formGroupName="nombrecompleto">
      <div class="form-group">
        <label for="exampleInputEmail1">Nombre</label>

        <input
          type="text"
          class="form-control"
          placeholder="nombre"
          formControlName="nombre"
          [ngClass]="{
            'is-invalid':
              formu.controls['nombrecompleto'].controls['nombre'].errors
                ?.required ||
              formu.controls['nombrecompleto'].controls['nombre'].errors
                ?.minlength,
            'is-valid':
              !formu.controls['nombrecompleto'].controls['nombre'].errors
                ?.required &&
              !formu.controls['nombrecompleto'].controls['nombre'].errors
                ?.minlength
          }"
        />
        <!-- <div
              *ngIf="formu.controls['nombre'].errors?.required"
              class="text-danger"
            >
              <small>El nombre es necesario</small>
            </div>
            <div
              *ngIf="formu.controls['nombre'].errors?.minlength"
              class="text-danger"
            >
              <small>Debe tener al menos 3 caracteres</small>
            </div> -->

        <div
          *ngIf="
            formu.controls['nombrecompleto'].controls['nombre'].errors?.required
          "
          class="invalid-feedback"
        >
          Campo requerido.
        </div>
        <div
          *ngIf="
            formu.controls['nombrecompleto'].controls['nombre'].errors
              ?.minlength
          "
          class="invalid-feedback"
        >
          Debe incluir al menos 3 caracteres.
        </div>
      </div>
      <div class="form-group">
        <label for="exampleInputEmail1">Apellido</label>
        <input
          type="text"
          class="form-control"
          placeholder="apellido"
          formControlName="apellido"
          [ngClass]="{
            'is-invalid':
              formu.controls['nombrecompleto'].controls['apellido'].errors
                ?.required ||
              formu.controls['nombrecompleto'].controls['apellido'].errors
                ?.minlength,
            'is-valid':
              !formu.controls['nombrecompleto'].controls['apellido'].errors
                ?.required &&
              !formu.controls['nombrecompleto'].controls['apellido'].errors
                ?.minlength
          }"
        />
        <div
          *ngIf="
            formu.controls['nombrecompleto'].controls['apellido'].errors
              ?.required
          "
          class="invalid-feedback"
        >
          Campo requerido.
        </div>
        <div
          *ngIf="
            formu.controls['nombrecompleto'].controls['apellido'].errors
              ?.minlength
          "
          class="invalid-feedback"
        >
          Debe incluir al menos 3 caracteres.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="exampleInputEmail1">email</label>
      <input
        type="email"
        class="form-control"
        placeholder="email"
        formControlName="email"
      />
    </div>

    <div class="form-group">
      <label>pasatiempos</label>
      <div formArrayName="pasatiempos">
        <input
          *ngFor="
            let pasatiempo of formu.controls['pasatiempos'].controls;
            let i = index
          "
          type="text"
          class="form-control"
          placeholder="ingrese otro pasa"
          [formControlName]="i"
        />
      </div>
      <button (click)="agregarPasatiempo()" type="button" class="btn btn-info">
        nuevo
      </button>
    </div>

    <!-- <div class="form-group form-check">
      <input type="checkbox" class="form-check-input" id="exampleCheck1" />
      <label class="form-check-label" for="exampleCheck1">Check me out</label>
    </div> -->
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>

  <div class="mt-3">
    <h5>Valido: {{ formu.valid }}</h5>
  </div>
  <pre>
    {{ formu.value | json }}
  </pre>
</div>
